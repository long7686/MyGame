{"version":3,"sources":["../../../../assets/Scripts/assets/Scripts/HUD Controller.js"],"names":["Emitter","require","cc","Class","extends","Component","properties","hudHealth","Node","hudAmmo","loseLayOut","Layout","winLayOut","scene","start","instance","registerEvent","HUD","bind","loseLevel","winLevel","director","getScene","Scene","health","ammo","getComponent","Label","string","node","active","scale","tween","to","onResetClick","loadScene","name","onExitClick","onNextLevelClick","nextScene","parseInt","String"],"mappings":";;;;;;AAAA,IAAMA,UAAUC,QAAQ,gBAAR,CAAhB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAWL,GAAGM,IADN;AAERC,iBAASP,GAAGM,IAFJ;AAGRE,oBAAYR,GAAGS,MAHP;AAIRC,mBAAWV,GAAGS,MAJN;AAKRE,eAAO;AALC,KAHP;;AAWLC,SAXK,mBAWG;AACJd,gBAAQe,QAAR,CAAiBC,aAAjB,CAA+B,aAA/B,EAA8C,KAAKC,GAAL,CAASC,IAAT,CAAc,IAAd,CAA9C;AACAlB,gBAAQe,QAAR,CAAiBC,aAAjB,CAA+B,MAA/B,EAAuC,KAAKG,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAvC;AACAlB,gBAAQe,QAAR,CAAiBC,aAAjB,CAA+B,KAA/B,EAAsC,KAAKI,QAAL,CAAcF,IAAd,CAAmB,IAAnB,CAAtC;AACA,aAAKL,KAAL,GAAaX,GAAGmB,QAAH,CAAYC,QAAZ,CAAqB,KAAKC,KAA1B,CAAb;AACH,KAhBI;AAkBLN,OAlBK,eAkBDO,MAlBC,EAkBOC,IAlBP,EAkBY;AACb,YAAID,SAAQ,CAAZ,EAAc;AACV,iBAAKjB,SAAL,CAAemB,YAAf,CAA4BxB,GAAGyB,KAA/B,EAAsCC,MAAtC,GAA+C,aAAYJ,MAA3D;AACH,SAFD,MAGI;AACA,iBAAKjB,SAAL,CAAemB,YAAf,CAA4BxB,GAAGyB,KAA/B,EAAsCC,MAAtC,GAA+C,WAA/C;AACH;AACD,aAAKnB,OAAL,CAAaiB,YAAb,CAA0BxB,GAAGyB,KAA7B,EAAoCC,MAApC,GAA6C,YAAWH,IAAxD;AACH,KA1BI;AA4BLN,aA5BK,uBA4BM;AACP,aAAKT,UAAL,CAAgBmB,IAAhB,CAAqBC,MAArB,GAA8B,IAA9B;AACA,aAAKpB,UAAL,CAAgBmB,IAAhB,CAAqBE,KAArB,GAA6B,CAA7B;AACA7B,WAAG8B,KAAH,CAAS,KAAKtB,UAAL,CAAgBmB,IAAzB,EACKI,EADL,CACQ,CADR,EACU,EAACF,OAAM,CAAP,EADV,EAEKjB,KAFL;AAGH,KAlCI;AAoCLM,YApCK,sBAoCK;AACN,aAAKR,SAAL,CAAeiB,IAAf,CAAoBC,MAApB,GAA6B,IAA7B;AACA,aAAKlB,SAAL,CAAeiB,IAAf,CAAoBE,KAApB,GAA4B,CAA5B;AACA7B,WAAG8B,KAAH,CAAS,KAAKpB,SAAL,CAAeiB,IAAxB,EACKI,EADL,CACQ,CADR,EACU,EAACF,OAAM,CAAP,EADV,EAEKjB,KAFL;AAGH,KA1CI;AA4CLoB,gBA5CK,0BA4CS;AACVhC,WAAGmB,QAAH,CAAYc,SAAZ,CAAsB,KAAKtB,KAAL,CAAWuB,IAAjC;AACH,KA9CI;AAgDLC,eAhDK,yBAgDQ;AACTnC,WAAGmB,QAAH,CAAYc,SAAZ,CAAsB,WAAtB;AACH,KAlDI;AAoDLG,oBApDK,8BAoDa;AACd,YAAIC,YAAYC,SAAS,KAAK3B,KAAL,CAAWuB,IAApB,IAA4B,CAA5C;AACAG,oBAAYE,OAAOF,SAAP,CAAZ;AACArC,WAAGmB,QAAH,CAAYc,SAAZ,CAAsBI,SAAtB;AACH;AAxDI,CAAT","file":"HUD Controller.js","sourceRoot":"../../../../assets/Scripts","sourcesContent":["const Emitter = require(\"EventsListener\")\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        hudHealth: cc.Node,\n        hudAmmo: cc.Node,\n        loseLayOut: cc.Layout,\n        winLayOut: cc.Layout,\n        scene: null,\n    },\n\n    start (){\n        Emitter.instance.registerEvent(\"HUDcontroll\", this.HUD.bind(this))\n        Emitter.instance.registerEvent(\"Lose\", this.loseLevel.bind(this))\n        Emitter.instance.registerEvent(\"Win\", this.winLevel.bind(this))\n        this.scene = cc.director.getScene(this.Scene)\n    },\n\n    HUD(health, ammo){\n        if (health> 0){\n            this.hudHealth.getComponent(cc.Label).string = \"HEALTH: \"+ health;\n        }\n        else{\n            this.hudHealth.getComponent(cc.Label).string = \"HEALTH: 0\";\n        }\n        this.hudAmmo.getComponent(cc.Label).string = \"AMMO x \"+ ammo;\n    },\n\n    loseLevel(){\n        this.loseLayOut.node.active = true;\n        this.loseLayOut.node.scale = 0;\n        cc.tween(this.loseLayOut.node)\n            .to(1,{scale:1})\n            .start()\n    },\n\n    winLevel(){\n        this.winLayOut.node.active = true;\n        this.winLayOut.node.scale = 0;\n        cc.tween(this.winLayOut.node)\n            .to(1,{scale:1})\n            .start()\n    },\n\n    onResetClick(){\n        cc.director.loadScene(this.scene.name)\n    },\n\n    onExitClick(){\n        cc.director.loadScene(\"StartMenu\")\n    },\n\n    onNextLevelClick(){\n        let nextScene = parseInt(this.scene.name) + 1\n        nextScene = String(nextScene)\n        cc.director.loadScene(nextScene)\n    }\n});\n"]}